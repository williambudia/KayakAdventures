(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[852,951],{870:(e,s,a)=>{"use strict";a.d(s,{default:()=>i});var o=a(5155),l=a(2115),r=a(5695);function i(e){let{pacote:s}=e,a=(0,r.useRouter)(),i=!!s,[t,d]=(0,l.useState)({nome:(null==s?void 0:s.nome)||"",descricao:(null==s?void 0:s.descricao)||"",preco:(null==s?void 0:s.preco)||"",vagasDisponiveis:(null==s?void 0:s.vagasDisponiveis)||"",vagasTotais:(null==s?void 0:s.vagasTotais)||"",imagemUrl:(null==s?void 0:s.imagemUrl)||"",destaque:(null==s?void 0:s.destaque)||!1,datasPossiveis:(null==s?void 0:s.datasPossiveis)||""}),[n,c]=(0,l.useState)(!1),[m,u]=(0,l.useState)(""),[x,h]=(0,l.useState)(""),p=e=>{let{name:s,value:a,type:o,checked:l}=e.target;d({...t,[s]:"checkbox"===o?l:a})},g=async e=>{e.preventDefault(),c(!0),u(""),h("");try{let e=i?"/api/pacotes/".concat(s.id):"/api/pacotes",o=await fetch(e,{method:i?"PATCH":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!o.ok){let e=await o.json();throw Error(e.error||"Erro ao salvar o pacote")}h(i?"Pacote atualizado com sucesso!":"Pacote criado com sucesso!"),setTimeout(()=>{a.push("/admin/pacotes"),a.refresh()},1500)}catch(e){u(e.message)}finally{c(!1)}};return(0,o.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[m&&(0,o.jsx)("div",{className:"bg-red-50 p-4 rounded-md",children:(0,o.jsxs)("div",{className:"flex",children:[(0,o.jsx)("div",{className:"flex-shrink-0",children:(0,o.jsx)("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,o.jsx)("div",{className:"ml-3",children:(0,o.jsx)("p",{className:"text-sm text-red-800",children:m})})]})}),x&&(0,o.jsx)("div",{className:"bg-green-50 p-4 rounded-md",children:(0,o.jsxs)("div",{className:"flex",children:[(0,o.jsx)("div",{className:"flex-shrink-0",children:(0,o.jsx)("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,o.jsx)("div",{className:"ml-3",children:(0,o.jsx)("p",{className:"text-sm text-green-800",children:x})})]})}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"nome",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Pacote*"}),(0,o.jsx)("input",{type:"text",id:"nome",name:"nome",required:!0,value:t.nome,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Ex: Passeio Individual no Rio Teles Pires"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"preco",className:"block text-sm font-medium text-gray-700 mb-1",children:"Pre\xe7o (R$)*"}),(0,o.jsx)("input",{type:"number",id:"preco",name:"preco",required:!0,min:"0",step:"0.01",value:t.preco,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Ex: 150.00"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"vagasDisponiveis",className:"block text-sm font-medium text-gray-700 mb-1",children:"Vagas Dispon\xedveis*"}),(0,o.jsx)("input",{type:"number",id:"vagasDisponiveis",name:"vagasDisponiveis",required:!0,min:"0",value:t.vagasDisponiveis,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Ex: 10"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"vagasTotais",className:"block text-sm font-medium text-gray-700 mb-1",children:"Vagas Totais"}),(0,o.jsx)("input",{type:"number",id:"vagasTotais",name:"vagasTotais",min:"0",value:t.vagasTotais,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Ex: 20"}),(0,o.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Se n\xe3o preenchido, ser\xe1 igual a vagas dispon\xedveis"})]}),(0,o.jsxs)("div",{className:"md:col-span-2",children:[(0,o.jsx)("label",{htmlFor:"descricao",className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o do Pacote*"}),(0,o.jsx)("textarea",{id:"descricao",name:"descricao",required:!0,rows:"4",value:t.descricao,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Descreva o pacote de caiaque, incluindo dura\xe7\xe3o, n\xedvel de dificuldade, etc."})]}),(0,o.jsxs)("div",{className:"md:col-span-2",children:[(0,o.jsx)("label",{htmlFor:"imagemUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"URL da Imagem"}),(0,o.jsx)("input",{type:"url",id:"imagemUrl",name:"imagemUrl",value:t.imagemUrl,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Ex: https://exemplo.com/imagem.jpg"}),(0,o.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Se n\xe3o preenchido, uma imagem padr\xe3o ser\xe1 usada"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"datasPossiveis",className:"block text-sm font-medium text-gray-700 mb-1",children:"Datas Poss\xedveis"}),(0,o.jsx)("input",{type:"text",id:"datasPossiveis",name:"datasPossiveis",value:t.datasPossiveis,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Ex: S\xe1bados e domingos, 9h e 14h"})]}),(0,o.jsx)("div",{className:"flex items-center h-full",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"checkbox",id:"destaque",name:"destaque",checked:t.destaque,onChange:p,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,o.jsx)("label",{htmlFor:"destaque",className:"ml-2 block text-sm font-medium text-gray-700",children:"Destaque na p\xe1gina inicial"})]})})]}),(0,o.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-4 border-t border-gray-200",children:[(0,o.jsx)("button",{type:"button",onClick:()=>a.push("/admin/pacotes"),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancelar"}),(0,o.jsx)("button",{type:"submit",disabled:n,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400 disabled:cursor-not-allowed flex items-center",children:n?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,o.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,o.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Salvando..."]}):i?"Atualizar Pacote":"Criar Pacote"})]})]})}},5695:(e,s,a)=>{"use strict";var o=a(8999);a.o(o,"usePathname")&&a.d(s,{usePathname:function(){return o.usePathname}}),a.o(o,"useRouter")&&a.d(s,{useRouter:function(){return o.useRouter}})},7824:(e,s,a)=>{Promise.resolve().then(a.bind(a,870))}},e=>{var s=s=>e(e.s=s);e.O(0,[441,684,358],()=>s(7824)),_N_E=e.O()}]);