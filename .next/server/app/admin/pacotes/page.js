(()=>{var e={};e.id=934,e.ids=[934],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5486:e=>{"use strict";e.exports=require("bcrypt")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11723:e=>{"use strict";e.exports=require("querystring")},12412:e=>{"use strict";e.exports=require("assert")},14203:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var n=t(65239),s=t(48088),i=t(88170),a=t.n(i),o=t(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let c={children:["",{children:["admin",{children:["pacotes",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,58061)),"/home/runner/workspace/app/admin/pacotes/page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,49268)),"/home/runner/workspace/app/admin/layout.js"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,32648)),"/home/runner/workspace/app/layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["/home/runner/workspace/app/admin/pacotes/page.js"],u={require:t,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/admin/pacotes/page",pathname:"/admin/pacotes",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},14944:(e,r,t)=>{"use strict";t.d(r,{N:()=>c});var n=t(60890),s=t(36344),i=t(13581),a=t(60066),o=t(5486),l=t.n(o);let c={providers:[(0,s.A)({clientId:process.env.GOOGLE_CLIENT_ID||"",clientSecret:process.env.GOOGLE_CLIENT_SECRET||""}),(0,i.A)({name:"Credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Senha",type:"password"}},async authorize(e){if(!e.email||!e.password)return null;try{let r=await a.A.user.findUnique({where:{email:e.email}});if(!r||!r.password||!await l().compare(e.password,r.password))return null;return{id:r.id,name:r.name,email:r.email,role:r.role}}catch(e){return console.error("Error during authentication:",e),null}}})],adapter:(0,n.y)(a.A),secret:process.env.NEXTAUTH_SECRET||"a-very-strong-secret-key-that-should-be-changed",session:{strategy:"jwt",maxAge:2592e3},pages:{signIn:"/admin/login",error:"/admin/login"},callbacks:{jwt:async({token:e,user:r})=>(r&&(e.role=r.role),e),session:async({session:e,token:r})=>(r&&e.user&&(e.user.role=r.role),e)}}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},24742:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,4536,23))},25577:(e,r,t)=>{"use strict";t.r(r),t.d(r,{"40388827a9ff5c0439b0ac04e960d9a08d3e270ada":()=>n.$$RSC_SERVER_ACTION_0});var n=t(58061)},28354:e=>{"use strict";e.exports=require("util")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},42894:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,85814,23))},49268:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d,metadata:()=>c});var n=t(37413),s=t(35426),i=t(14944),a=t(39916),o=t(4536),l=t.n(o);let c={title:"\xc1rea Administrativa | Rumos & Remos",description:"\xc1rea de administra\xe7\xe3o para gerenciamento de pacotes e passeios"};async function d({children:e}){let r=await (0,s.getServerSession)(i.N);return r||(0,a.redirect)("/admin/login"),(0,n.jsxs)("div",{className:"min-h-screen flex flex-col md:flex-row bg-gray-100",children:[(0,n.jsxs)("div",{className:"bg-blue-800 text-white w-full md:w-64 p-6 md:min-h-screen",children:[(0,n.jsxs)("div",{className:"text-center md:text-left mb-8",children:[(0,n.jsx)("h1",{className:"text-xl font-bold",children:"Rumos & Remos"}),(0,n.jsx)("p",{className:"text-blue-200 text-sm",children:"\xc1rea Administrativa"})]}),(0,n.jsx)("nav",{className:"mt-8",children:(0,n.jsxs)("ul",{className:"space-y-2",children:[(0,n.jsx)("li",{children:(0,n.jsx)(l(),{href:"/admin",className:"block px-4 py-2 rounded-md hover:bg-blue-700 transition-colors duration-200",children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Dashboard"]})})}),(0,n.jsx)("li",{children:(0,n.jsx)(l(),{href:"/admin/pacotes",className:"block px-4 py-2 rounded-md hover:bg-blue-700 transition-colors duration-200",children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0v10l-8 4m-8-4V7m8 4v10M4 7v10l8-4"})}),"Pacotes"]})})}),(0,n.jsx)("li",{children:(0,n.jsx)(l(),{href:"/admin/pacotes/novo",className:"block px-4 py-2 rounded-md hover:bg-blue-700 transition-colors duration-200",children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Novo Pacote"]})})})]})}),(0,n.jsx)("div",{className:"mt-auto pt-8",children:(0,n.jsxs)("div",{className:"border-t border-blue-700 pt-4",children:[(0,n.jsxs)("div",{className:"flex items-center mb-4",children:[(0,n.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center mr-3",children:(0,n.jsx)("span",{className:"font-medium",children:r?.user?.name?.charAt(0)||"U"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium",children:r?.user?.name||"Usu\xe1rio"}),(0,n.jsx)("p",{className:"text-xs text-blue-300",children:r?.user?.email||"email@example.com"})]})]}),(0,n.jsx)("form",{action:"/api/auth/signout",method:"POST",children:(0,n.jsx)("button",{type:"submit",className:"w-full text-center px-4 py-2 rounded-md bg-blue-700 hover:bg-blue-600 transition-colors duration-200 text-sm",children:"Sair"})})]})})]}),(0,n.jsx)("div",{className:"flex-1 p-6",children:e})]})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},58061:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$RSC_SERVER_ACTION_0:()=>d,default:()=>p});var n=t(37413),s=t(67218);t(79130);var i=t(4536),a=t.n(i),o=t(62351),l=t(60066);async function c(){(0,o.unstable_noStore)();try{return await l.A.pacote.findMany({orderBy:{createdAt:"desc"}})}catch(e){return console.error("Error fetching pacotes:",e),[]}}let d=async function(e){let r=e.get("id");try{return await l.A.pacote.delete({where:{id:r}}),{success:!0}}catch(e){return console.error("Error deleting pacote:",e),{success:!1,error:"Erro ao excluir pacote"}}};var u=(0,s.A)(d,"40388827a9ff5c0439b0ac04e960d9a08d3e270ada",null);async function p(){let e=await c();return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"Gerenciar Pacotes"}),(0,n.jsxs)(a(),{href:"/admin/pacotes/novo",className:"bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors flex items-center",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Novo Pacote"]})]}),(0,n.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.length>0?(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,n.jsx)("thead",{className:"bg-gray-50",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pre\xe7o"}),(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vagas"}),(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Destaque"}),(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),(0,n.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,n.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,n.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,n.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.nome}),(0,n.jsx)("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:e.descricao})]}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,n.jsxs)("div",{className:"text-sm text-gray-900",children:["R$ ",e.preco.toFixed(2)]})}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,n.jsx)("div",{className:"text-sm text-gray-900",children:e.vagasDisponiveis})}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.destaque?(0,n.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Sim"}):(0,n.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:"N\xe3o"})}),(0,n.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,n.jsx)(a(),{href:`/admin/pacotes/${e.id}`,className:"text-blue-600 hover:text-blue-900 mr-4",children:"Editar"}),(0,n.jsxs)("form",{action:u,className:"inline",children:[(0,n.jsx)("input",{type:"hidden",name:"id",value:e.id}),(0,n.jsx)("button",{type:"submit",className:"text-red-600 hover:text-red-900",onClick:e=>{confirm("Tem certeza que deseja excluir este pacote?")||e.preventDefault()},children:"Excluir"})]})]})]},e.id))})]})}):(0,n.jsxs)("div",{className:"text-center py-10",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-gray-400 mx-auto mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0v10l-8 4m-8-4V7m8 4v10M4 7v10l8-4"})}),(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Nenhum pacote cadastrado"}),(0,n.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Comece a criar pacotes de passeios para exibir no site."}),(0,n.jsx)("div",{className:"mt-6",children:(0,n.jsxs)(a(),{href:"/admin/pacotes/novo",className:"bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors inline-flex items-center",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Criar Primeiro Pacote"]})})]})})]})}},60066:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});var n=t(96330);global;let s=new n.PrismaClient},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67218:(e,r,t)=>{"use strict";Object.defineProperty(r,"A",{enumerable:!0,get:function(){return n.registerServerReference}});let n=t(12907)},74075:e=>{"use strict";e.exports=require("zlib")},79130:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{decryptActionBoundArgs:function(){return h},encryptActionBoundArgs:function(){return x}}),t(34822);let n=t(12907),s=t(52513),i=t(77855),a=t(82602),o=t(63033),l=t(84971),c=function(e){return e&&e.__esModule?e:{default:e}}(t(61120)),d=new TextEncoder,u=new TextDecoder;async function p(e,r){let t=await (0,a.getActionEncryptionKey)();if(void 0===t)throw Object.defineProperty(Error("Missing encryption key for Server Action. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E65",enumerable:!1,configurable:!0});let n=atob(r),s=n.slice(0,16),i=n.slice(16),o=u.decode(await (0,a.decrypt)(t,(0,a.stringToUint8Array)(s),(0,a.stringToUint8Array)(i)));if(!o.startsWith(e))throw Object.defineProperty(Error("Invalid Server Action payload: failed to decrypt."),"__NEXT_ERROR_CODE",{value:"E191",enumerable:!1,configurable:!0});return o.slice(e.length)}async function m(e,r){let t=await (0,a.getActionEncryptionKey)();if(void 0===t)throw Object.defineProperty(Error("Missing encryption key for Server Action. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E65",enumerable:!1,configurable:!0});let n=new Uint8Array(16);o.workUnitAsyncStorage.exit(()=>crypto.getRandomValues(n));let s=(0,a.arrayBufferToString)(n.buffer),i=await (0,a.encrypt)(t,n,d.encode(e+r));return btoa(s+(0,a.arrayBufferToString)(i))}let x=c.default.cache(async function e(r,...t){let{clientModules:s}=(0,a.getClientReferenceManifestForRsc)(),c=Error();Error.captureStackTrace(c,e);let d=!1,u=o.workUnitAsyncStorage.getStore(),p=(null==u?void 0:u.type)==="prerender"?(0,l.createHangingInputAbortSignal)(u):void 0,x=await (0,i.streamToString)((0,n.renderToReadableStream)(t,s,{signal:p,onError(e){(null==p||!p.aborted)&&(d||(d=!0,c.message=e instanceof Error?e.message:String(e)))}}),p);if(d)throw c;if(!u)return m(r,x);let h=(0,o.getPrerenderResumeDataCache)(u),g=(0,o.getRenderResumeDataCache)(u),f=r+x,v=(null==h?void 0:h.encryptedBoundArgs.get(f))??(null==g?void 0:g.encryptedBoundArgs.get(f));if(v)return v;let y="prerender"===u.type?u.cacheSignal:void 0;null==y||y.beginRead();let b=await m(r,x);return null==y||y.endRead(),null==h||h.encryptedBoundArgs.set(f,b),b});async function h(e,r){let t,n=await r,i=o.workUnitAsyncStorage.getStore();if(i){let r="prerender"===i.type?i.cacheSignal:void 0,s=(0,o.getPrerenderResumeDataCache)(i),a=(0,o.getRenderResumeDataCache)(i);(t=(null==s?void 0:s.decryptedBoundArgs.get(n))??(null==a?void 0:a.decryptedBoundArgs.get(n)))||(null==r||r.beginRead(),t=await p(e,n),null==r||r.endRead(),null==s||s.decryptedBoundArgs.set(n,t))}else t=await p(e,n);let{edgeRscModuleMapping:l,rscModuleMapping:c}=(0,a.getClientReferenceManifestForRsc)();return await (0,s.createFromReadableStream)(new ReadableStream({start(e){e.enqueue(d.encode(t)),(null==i?void 0:i.type)==="prerender"?i.renderSignal.aborted?e.close():i.renderSignal.addEventListener("abort",()=>e.close(),{once:!0}):e.close()}}),{serverConsumerManifest:{moduleLoading:null,moduleMap:c,serverModuleMap:(0,a.getServerModuleMap)()}})}},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},82602:(e,r,t)=>{"use strict";let n;Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{arrayBufferToString:function(){return o},decrypt:function(){return d},encrypt:function(){return c},getActionEncryptionKey:function(){return h},getClientReferenceManifestForRsc:function(){return x},getServerModuleMap:function(){return m},setReferenceManifestsSingleton:function(){return p},stringToUint8Array:function(){return l}});let s=t(71617),i=t(74722),a=t(29294);function o(e){let r=new Uint8Array(e),t=r.byteLength;if(t<65535)return String.fromCharCode.apply(null,r);let n="";for(let e=0;e<t;e++)n+=String.fromCharCode(r[e]);return n}function l(e){let r=e.length,t=new Uint8Array(r);for(let n=0;n<r;n++)t[n]=e.charCodeAt(n);return t}function c(e,r,t){return crypto.subtle.encrypt({name:"AES-GCM",iv:r},e,t)}function d(e,r,t){return crypto.subtle.decrypt({name:"AES-GCM",iv:r},e,t)}let u=Symbol.for("next.server.action-manifests");function p({page:e,clientReferenceManifest:r,serverActionsManifest:t,serverModuleMap:n}){var s;let a=null==(s=globalThis[u])?void 0:s.clientReferenceManifestsPerPage;globalThis[u]={clientReferenceManifestsPerPage:{...a,[(0,i.normalizeAppPath)(e)]:r},serverActionsManifest:t,serverModuleMap:n}}function m(){let e=globalThis[u];if(!e)throw Object.defineProperty(new s.InvariantError("Missing manifest for Server Actions."),"__NEXT_ERROR_CODE",{value:"E606",enumerable:!1,configurable:!0});return e.serverModuleMap}function x(){let e=globalThis[u];if(!e)throw Object.defineProperty(new s.InvariantError("Missing manifest for Server Actions."),"__NEXT_ERROR_CODE",{value:"E606",enumerable:!1,configurable:!0});let{clientReferenceManifestsPerPage:r}=e,t=a.workAsyncStorage.getStore();if(!t){var n=r;let e=Object.values(n),t={clientModules:{},edgeRscModuleMapping:{},rscModuleMapping:{}};for(let r of e)t.clientModules={...t.clientModules,...r.clientModules},t.edgeRscModuleMapping={...t.edgeRscModuleMapping,...r.edgeRscModuleMapping},t.rscModuleMapping={...t.rscModuleMapping,...r.rscModuleMapping};return t}let i=r[t.route];if(!i)throw Object.defineProperty(new s.InvariantError(`Missing Client Reference Manifest for ${t.route}.`),"__NEXT_ERROR_CODE",{value:"E570",enumerable:!1,configurable:!0});return i}async function h(){if(n)return n;let e=globalThis[u];if(!e)throw Object.defineProperty(new s.InvariantError("Missing manifest for Server Actions."),"__NEXT_ERROR_CODE",{value:"E606",enumerable:!1,configurable:!0});let r=process.env.NEXT_SERVER_ACTIONS_ENCRYPTION_KEY||e.serverActionsManifest.encryptionKey;if(void 0===r)throw Object.defineProperty(new s.InvariantError("Missing encryption key for Server Actions"),"__NEXT_ERROR_CODE",{value:"E571",enumerable:!1,configurable:!0});return n=await crypto.subtle.importKey("raw",l(atob(r)),"AES-GCM",!0,["encrypt","decrypt"])}},94735:e=>{"use strict";e.exports=require("events")},96330:e=>{"use strict";e.exports=require("@prisma/client")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[80,722,568,473,832],()=>t(14203));module.exports=n})();